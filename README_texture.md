# マルチモデル対応テクスチャ追加パックの仕様について


## 概要
マルチモデル用にテクスチャを追加するためのパッケージを作成する場合の仕様です。  
自身で作成したテクスチャを追加する場合に参考にしてください。


## 用語
- テクスチャパック  
  一揃いのテクスチャを含むディレクトリの事。
- マルチモデル  
  標準の形態以外のモデルを使用する為の規格。
- テクスチャパッケージ  
  テクスチャパックを含むzipファイルの事。  
  複数のテクスチャパック、モデルを含む事が出来る。


## テクスチャの命名規則
テクスチャのファイル名は一定の規則に基づいて命名されています。  
※予約値なども含まれるので実装されていない場合があります。
- 規則1 （旧仕様との互換のためのものです、使用は推奨されません）
    - mod\_littlemaid?.png  
      色毎のテクスチャ、?は0〜Fまでの16進数。
    - mod\_littlemaidw.png  
      野生のメイドさん用テクスチャ。
    - mod\_littlemaid\_a0?.png  
      アーマーのテクスチャ、0はサイズ\+0.1、1はサイズ\+0.5。

- 規則2
    - \*_?.png  
      色毎のテクスチャ、?は0〜Fまでの16進数。
    - \*\_10.png  
      野生のメイドさん用のテクスチャ（\*\_3c.pngと同等）。
    - \*\_1?.png  
      アーマーのテクスチャ、1はサイズ\+0.1（default\_40.pngと同等）、2はサイズ\+0.5（default\_50.pngと同等）。
    - \*\_13.png  
      周囲の明るさに左右されない半透明のテクスチャ（蜘蛛の目などのようなもの）、契約メイドさん用、\_6?.pngがなければ適用されます。
    - \*\_14.png  
      周囲の明るさに左右されない半透明のテクスチャ（蜘蛛の目などのようなもの）、野生のメイドさん用、\_7?.pngがなければ適用されます。
    - \*\_15.png  
      周囲の明るさに左右されない半透明のテクスチャ（default\_80.pngと同等）。
    - \*\_16.png  
      周囲の明るさに左右されない半透明のテクスチャ（default_90.pngと同等）。
    - \*\_20.png  
      GUIのテクスチャ
    - \*\_3?.png  
      野生のカラーメイドさん用のテクスチャ、?は0〜Fまでの16進数
    - (default|\*)\_4?.png  
      ダメージドアーマー1のテクスチャ、?は0〜9までの16進数
    - (default|\*)\_5?.png  
      ダメージドアーマー2のテクスチャ、?は0〜9までの16進数
    - \*\_6?.png  
      個別の周囲の明るさに左右されない半透明のテクスチャ、契約メイドさん用。  
      ?は0〜Fまでの16進数で各色に対応。
    - \*\_7?.png  
      個別の周囲の明るさに左右されない半透明のテクスチャ、野生のメイドさん用。  
      ?は0〜Fまでの16進数で各色に対応。
    - (default|\*)\_8?.png  
      個別の周囲の明るさに左右されない半透明のテクスチャ、ダメージドアーマー1用。  
      ?は0〜9までの16進数。
    - (default|\*)\_9?.png  
      個別の周囲の明るさに左右されない半透明のテクスチャ、ダメージドアーマー2用。  
      ?は0〜9までの16進数。
    - \*  
      好きな名称、但し日本語は使用できません。
  
  Ex.：マインクラフトさんの鎧は\+0.5と\+1.0  
  注1：アーマーテクスチャは2枚セットで用意しないと正常に動作しません。  
  注2：テクスチャパックに存在しない物はデフォルトの物を使います。


## テクスチャパック（ディレクトリ）の命名規則
テクスチャを格納するディレクトリにも一定の規則があります。
- ディレクトリ名称にピリオドは使用できません。
- ディレクトリ名称に日本語は使用できません。
- テクスチャパック名称の最後に「_naz」等のモデル名称を付加する事により、後述するマルチモデルに対応する事が出来ます。
- 現在は特定のディレクトリ以下にテクスチャパック名称のディレクトリを作成する必要が有ります。  
  MMMLibが標準で読み込む特定ディレクトリ名称は以下の通り。
    - /mob/littleMaid/
    - /mob/ModelMulti/
    
  以下のディレクトリであれば、階層は関係なく使用できるはずです。（実際にテストを行っているのは2階層のみ）  
  実際のディレクトリ構造は以下のようになります。
~~~~
    /mob/littleMaid/naz_naz/naz_00.png
                   .
                   .
    /mob/littleMaid/naz_naz/naz_20.png
~~~~


## マルチモデル
複数のモデルクラスをテクスチャパッケージに登録する事により、様々なモデルを同時に使用する事が出来ます。
- モデルクラス  
  「ModelMultiBase.class」を継承したクラスをテクスチャパック内に配置する事で特殊なモデル形状を使用できます。
- モデルクラスの配置場所  
  テクスチャパッケージのルートに配置してください。
    - /ModelLittleMaid_naz.class
    - /mob/littleMaid/naz_naz/〜
- モデルクラスの命名規則
モデルクラスの接頭字句として「ModelLittleMaid\_」または、「ModelMulti\_」を付けて下さい。  
アンダーバー以降がモデル名称となり、テクスチャパック名の一番最後に付与する事によりテクスチャパックのモデルとして適用されます。
    - ModelLittleMaid_naz.class
    - ModelLittleMaid_chrno.class

    - /mob/littleMaid/naz_naz/〜
    - /mob/littleMaid/Cirno_chrno/〜
    
  注：モデルクラスの名称は競合しないようにユニークな名所を付けましょう。  
  　　同一名称のモデルクラスが複数存在した場合は、最後に読み込まれた物になるはずです。（未確認）

  詳細は別のテキストに記述してありますので参考にしてください。


## パッケージファイル
一定の命名規則で命名されたファイルを%appdata%/.mincraft/mods/に放り込むと、littleMaidMobは自動的にファイルをチェックします。
- littleMaidMob-\*.zip  
  \*は好きな名称。
- ModelMulti-\*.zip  
  \*は好きな名称。

Ex.：littleMaidMob-texture.zip

また、命名規則に一致するならば複数のテクスチャパックに対応します。  
他のテクスチャパックに同一名称のディレクトリが存在している場合、最後に読み込まれたテクスチャで上書きされます。


## 野生のカラーメイド
従来、野生のメイドの色は茶色(12)固定でしたが、新たに各色へと対応されました。  
野生のメイドは発生時にランダムでテクスチャパックを選択し、登録されている野生色をランダムで設定します。  
この時野生のメイドのテクスチャが設定されていない場合はdefaultのテクスチャを使用します。  
野生のメイドのテクスチャとして以下の物を使用します。
- \*\_3?.png  
  \*は好きな名称、?は0〜F迄の16進数。

従来設定されていた野生のメイドテクスチャは内部的に3cへと割り振られています。
- \*\_10.png → \*\_3c.png


## アーマーテクスチャ
アーマーテクスチャについての仕様が追加され、耐久度毎、素材毎のテクスチャ表示が可能となっています。
- ダメージドアーマー  
  ダメージ毎のアーマーテクスチャを用意しておくと、それに応じた物が表示されます。  
  設定間隔は10%刻みになっています。
    - \*\_40.png、\*\_50.png ：耐久度が100%以下の時に表示
    - \*\_41.png、\*\_51.png ：耐久度が90%以下の時に表示
    - \*\_42.png、\*\_52.png ：耐久度が80%以下の時に表示
    - \*\_43.png、\*\_53.png ：耐久度が70%以下の時に表示
    - \*\_44.png、\*\_54.png ：耐久度が60%以下の時に表示
    - \*\_45.png、\*\_55.png ：耐久度が50%以下の時に表示
    - \*\_46.png、\*\_56.png ：耐久度が40%以下の時に表示
    - \*\_47.png、\*\_57.png ：耐久度が30%以下の時に表示
    - \*\_48.png、\*\_58.png ：耐久度が20%以下の時に表示
    - \*\_49.png、\*\_59.png ：耐久度が10%以下の時に表示

  また、耐久度に応じたテクスチャが用意されていない場合、直近のより耐久度の大きな時のテクスチャを表示します。  
  Ex.：40、43、47のテクスチャがありアーマーの耐久度が40%の時、45を選択したいが無いので44 → 43と検索し43のテクスチャを使用する。


- アーマー素材  
  素材毎のテクスチャを設定できるように成った為、ファイル名称にも制約が発生しています。  
  \*の部分の名称を特定の文字列にする事が必要です。
    - \*\_11.png → default_40.png
    - \*\_12.png → default_50.png
    - \*の文字列
        - default\_??.png  
          標準アーマーテクスチャ、素材毎のテクスチャが存在しない場合はこれが表示される。
        - cloth\_??.png  
          革鎧のアーマーテクスチャ
        - iron\_??.png  
          鉄鎧のアーマーテクスチャ
        - gold\_??.png  
          黄金鎧のアーマーテクスチャ
        - diamond\_??.png  
          金剛石鎧のアーマーテクスチャ

  注：プレーヤーのアーマーテクスチャ名称に準じます。


## 注意
- パッケージ内のファイルに日本語が含まれる場合、起動時にエラーが発生するようです。  
  これはModLoaderないしJavaの文字コード処理にかかる問題のようですので、各自回避してください。
- 動作チェックはWindows上のMinecraftで行っています。  
  他の環境では正常に動作しない恐れがあります。
- 今後仕様は変更される恐れがあります。


## 履歴
- 20130618.1 littleMaidMobから移設。
